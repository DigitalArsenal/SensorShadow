# SensorShadow Class for Cesium
This repository contains the `SensorShadow` class for Cesium.js, a JavaScript library for creating 3D maps and globes in a web browser. The `SensorShadow` class allows you to create, update, and manage sensor shadow entities, including sensor shadow visualization, color coding, frustum support, and many more.

## Screenshot

<img src="https://github.com/DigitalArsenal/SensorShadow/assets/749096/a3c64e59-d815-4d15-b1bd-cc7d9d8cc59d" width="40%" />

## Demo

[Sandcastle Link](https://sandcastle.cesium.com/#c=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)
## Installation

This class requires the Cesium.js library. You need to install Cesium.js and import the SensorShadow class into your project.

Please refer to the official [Cesium.js Installation Guide](https://cesium.com/docs/tutorials/quick-start/) for more information on how to install and set up Cesium.js.

## Usage

To create a new SensorShadow instance, you need a reference to the Cesium viewer instance and an optional configuration object. The configuration object can include various properties like `cameraPosition`, `viewPosition`, `viewAreaColor`, `shadowAreaColor`, `alpha`, `frustum`, `size` and `depthBias`.

Below is an example of how to create a new SensorShadow instance:

```javascript
let sensorShadow = new SensorShadow(viewer, {
  cameraPosition: new Cartesian3(0, 0, 0),
  viewPosition: new Cartesian3(1, 1, 1),
  viewAreaColor: new Color(0, 1, 0),
  shadowAreaColor: new Color(1, 0, 0),
  alpha: 0.5,
  frustum: true,
  size: 512,
});
```

## Contributing

Pull requests are welcome. For major changes, please open an issue first to discuss what you would like to change. Please make sure to update tests as appropriate.

## License

### [Apache 2.0](https://choosealicense.com/licenses/apache-2.0/)
