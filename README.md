# SensorShadow Class for Cesium
This repository contains the `SensorShadow` class for Cesium.js, a JavaScript library for creating 3D maps and globes in a web browser. The `SensorShadow` class allows you to create, update, and manage sensor shadow entities, including sensor shadow visualization, color coding, frustum support, and many more.

## Screenshot

<img src="https://github.com/DigitalArsenal/SensorShadow/assets/749096/a3c64e59-d815-4d15-b1bd-cc7d9d8cc59d" width="40%" />

## Demo

[Sandcastle Link](https://sandcastle.cesium.com/#c=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)
## Installation

This class requires the Cesium.js library. You need to install Cesium.js and import the SensorShadow class into your project.

Please refer to the official [Cesium.js Installation Guide](https://cesium.com/docs/tutorials/quick-start/) for more information on how to install and set up Cesium.js.

## Usage

To create a new SensorShadow instance, you need a reference to the Cesium viewer instance and an optional configuration object. The configuration object can include various properties like `cameraPosition`, `viewPosition`, `viewAreaColor`, `shadowAreaColor`, `alpha`, `frustum`, `size` and `depthBias`.

Below is an example of how to create a new SensorShadow instance:

```javascript
let sensorShadow = new SensorShadow(viewer, {
  cameraPosition: new Cartesian3(0, 0, 0),
  viewPosition: new Cartesian3(1, 1, 1),
  viewAreaColor: new Color(0, 1, 0),
  shadowAreaColor: new Color(1, 0, 0),
  alpha: 0.5,
  frustum: true,
  size: 512,
});
```

## Contributing

Pull requests are welcome. For major changes, please open an issue first to discuss what you would like to change. Please make sure to update tests as appropriate.

## License

### [Apache 2.0](https://choosealicense.com/licenses/apache-2.0/)
