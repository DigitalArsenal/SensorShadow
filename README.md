# SensorShadow Class for Cesium
This repository contains the `SensorShadow` class for Cesium.js, a JavaScript library for creating 3D maps and globes in a web browser. The `SensorShadow` class allows you to create, update, and manage sensor shadow entities, including sensor shadow visualization, color coding, frustum support, and many more.

## Screenshot

<img src="https://github.com/DigitalArsenal/SensorShadow/assets/749096/a3c64e59-d815-4d15-b1bd-cc7d9d8cc59d" width="40%" />

## Demo

[Sandcastle Link](https://sandcastle.cesium.com/#c=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)
## Installation

This class requires the Cesium.js library. You need to install Cesium.js and import the SensorShadow class into your project.

Please refer to the official [Cesium.js Installation Guide](https://cesium.com/docs/tutorials/quick-start/) for more information on how to install and set up Cesium.js.

## Usage

To create a new SensorShadow instance, you need a reference to the Cesium viewer instance and an optional configuration object. The configuration object can include various properties like `cameraPosition`, `viewPosition`, `viewAreaColor`, `shadowAreaColor`, `alpha`, `frustum`, `size` and `depthBias`.

Below is an example of how to create a new SensorShadow instance:

```javascript
let sensorShadow = new SensorShadow(viewer, {
  cameraPosition: new Cartesian3(0, 0, 0),
  viewPosition: new Cartesian3(1, 1, 1),
  viewAreaColor: new Color(0, 1, 0),
  shadowAreaColor: new Color(1, 0, 0),
  alpha: 0.5,
  frustum: true,
  size: 512,
});
```

## Contributing

Pull requests are welcome. For major changes, please open an issue first to discuss what you would like to change. Please make sure to update tests as appropriate.

## License

### [Apache 2.0](https://choosealicense.com/licenses/apache-2.0/)
